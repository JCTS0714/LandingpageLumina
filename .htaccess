# Lumina Landing (Hostinger / Apache / LiteSpeed)
# Place this file in the web root (usually public_html/).

# Default documents
DirectoryIndex index.html index.php

# Disable directory listing
Options -Indexes

# -----------------------------------------------------------------------------
# Basic hardening
# -----------------------------------------------------------------------------

# Block access to hidden files/folders (except .well-known)
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteRule "(^|/)\.((?!well-known/).)*" - [F]
</IfModule>

# Block common sensitive file types
<FilesMatch "(?i)\.(env|ini|log|sql|sqlite|bak|swp|dist|example|jsonl)$">
  <IfModule mod_authz_core.c>
    Require all denied
  </IfModule>
  <IfModule !mod_authz_core.c>
    Order deny,allow
    Deny from all
  </IfModule>
</FilesMatch>

# Extra protection in case per-folder .htaccess is ignored
<IfModule mod_authz_core.c>
  <LocationMatch "^/api/(config|storage)(/|$)">
    Require all denied
  </LocationMatch>
</IfModule>
<IfModule !mod_authz_core.c>
  <LocationMatch "^/api/(config|storage)(/|$)">
    Order deny,allow
    Deny from all
  </LocationMatch>
</IfModule>

# -----------------------------------------------------------------------------
# Compression (safe defaults)
# -----------------------------------------------------------------------------
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/plain text/html text/xml text/css
  AddOutputFilterByType DEFLATE application/javascript application/json
  AddOutputFilterByType DEFLATE image/svg+xml
</IfModule>

# -----------------------------------------------------------------------------
# Caching
# -----------------------------------------------------------------------------
<IfModule mod_expires.c>
  ExpiresActive On

  # HTML: avoid caching
  ExpiresByType text/html "access plus 0 seconds"

  # Assets
  ExpiresByType text/css "access plus 30 days"
  ExpiresByType application/javascript "access plus 30 days"
  ExpiresByType image/svg+xml "access plus 365 days"
  ExpiresByType image/png "access plus 365 days"
  ExpiresByType image/jpeg "access plus 365 days"
  ExpiresByType image/webp "access plus 365 days"
</IfModule>

# -----------------------------------------------------------------------------
# Security headers (keep minimal to avoid breaking inline scripts/styles)
# -----------------------------------------------------------------------------
<IfModule mod_headers.c>
  Header always set X-Content-Type-Options "nosniff"
  Header always set X-Frame-Options "SAMEORIGIN"
  Header always set Referrer-Policy "strict-origin-when-cross-origin"
  Header always set Permissions-Policy "geolocation=(), microphone=(), camera=()"
</IfModule>

# -----------------------------------------------------------------------------
# Optional: Force HTTPS (enable only if your site already has SSL)
# -----------------------------------------------------------------------------
# <IfModule mod_rewrite.c>
#   RewriteEngine On
#   RewriteCond %{HTTPS} !=on
#   RewriteCond %{HTTP:X-Forwarded-Proto} !https [NC]
#   RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
# </IfModule>
